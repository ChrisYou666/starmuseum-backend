spring:
  datasource:
    url: jdbc:mysql://localhost:3306/starmuseum?useUnicode=true&...=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: starmuseum
    password: starmuseum123
    driver-class-name: com.mysql.cj.jdbc.Driver
  flyway:
    enabled: true
    locations: classpath:db/migration
    # 已有数据库：第一次 migrate 时自动写入 baseline 记录（不重建表）
    baseline-on-migrate: true
    baseline-version: 1
    baseline-description: baseline_existing_db
    # 校验脚本一致性（企业必开）
    validate-on-migrate: true
    # 禁止清库（企业必做，防误操作）
    clean-disabled: true


  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 20MB


app:
  cors:
    allowed-origins:
      - "http://localhost:5173"
  admin:
    user-ids: [1]

logging:
  level:
    org.flywaydb: INFO
    org.springframework.boot.autoconfigure.flyway: DEBUG
    root: info
    com.starmuseum: debug


starmuseum:
  storage:
    local:
      # 这里是你电脑上真实存在的目录（没有会自动创建）
      upload-dir: D:/data/starmuseum/uploads
    # 用于拼接返回的可访问 URL（浏览器打开用）
    public-base-url: http://localhost:8080
    image:
      # thumb：Feed 列表用
      thumb-max-side: 320
      # medium：详情展示用
      medium-max-side: 1280
      # 允许的 mime（可按需增删）
      allowed-mime-types:
        - image/jpeg
        - image/png
        - image/webp
      # 10MB（兜底校验）
      max-file-size-bytes: 10485760
